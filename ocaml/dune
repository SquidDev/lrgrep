(executable
  (name frontend)
  (libraries compiler-libs.common menhirLib lrgrep.runtime))

(ocamllex lexer_raw)

(menhir 
  (modules parser_raw)
  (flags :standard --inspection --table --cmly))

(rule
  (targets parse_errors.ml)
  (deps    parser_raw.cmly parse_errors.mlyl)
  (action
    (with-stdout-to %{targets}
       (run %{exe:../src/main.exe} -n -d parse_errors.mlyl -g parser_raw.cmly 
            -o parse_errors.ml))))
